(function(){"use strict";var e={6361:function(e,t,o){var s=o(5130),n=o(6768);function a(e,t,o,s,a,r){const i=(0,n.g2)("Navbar");return(0,n.uX)(),(0,n.Wv)(i)}const r={key:0,class:"btn"},i=(0,n.Lk)("i",{class:"fa fa-arrow-circle-left"},null,-1),l=(0,n.Lk)("i",{class:"fa fa-portrait"},null,-1),u={key:3,class:"buttons"};function d(e,t,o,s,a,d){const c=(0,n.g2)("router-link"),k=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",null,[(0,n.Lk)("nav",null,[a.isUserPage?((0,n.uX)(),(0,n.CE)("button",r,[(0,n.bF)(c,{to:"/"},{default:(0,n.k6)((()=>[i])),_:1})])):(0,n.Q3)("",!0),e.$cookies.get("jwt")?((0,n.uX)(),(0,n.Wv)(c,{key:1,to:"/user"},{default:(0,n.k6)((()=>[l])),_:1})):(0,n.Q3)("",!0),e.$cookies.get("jwt")?((0,n.uX)(),(0,n.CE)("button",{key:2,onClick:t[0]||(t[0]=e=>d.logout()),class:"buttons"}," logout ")):(0,n.Q3)("",!0),e.$cookies.get("jwt")?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("button",u,[(0,n.bF)(c,{to:"/login"},{default:(0,n.k6)((()=>[(0,n.eW)("Login")])),_:1})]))])]),(0,n.bF)(k)],64)}o(4114);var c=o(4084),k={data(){return{isUserPage:!1}},created(){this.checkCurrentRoute(),this.$router.afterEach((()=>{this.checkCurrentRoute()}))},methods:{async logout(){await this.$store.dispatch("logout"),c.oR.success("Successfully logged out",{theme:"dark",timeout:5e3}),await new Promise((e=>setTimeout(e,3e3))),this.$route.push("/"),location.reload()},checkCurrentRoute(){this.isUserPage="/user"===this.$route.path}}},f=o(1241);const m=(0,f.A)(k,[["render",d]]);var p=m,g={components:{Navbar:p}};const h=(0,f.A)(g,[["render",a]]);var b=h,v=o(4458);(0,v.k)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var _=o(1387),y=o(4232);const L=e=>((0,n.Qi)("data-v-23811f1a"),e=e(),(0,n.jt)(),e),w=L((()=>(0,n.Lk)("div",{class:"home"},[(0,n.Lk)("h1",{class:"heading"},[(0,n.Lk)("i",{class:"fas fa-tasks"}),(0,n.eW)(" To Do List ")])],-1))),T={class:"containers"},C=L((()=>(0,n.Lk)("label",{for:"d_o_s",class:"date-label"},"date of start:",-1))),$=L((()=>(0,n.Lk)("label",{for:"d_o_s",class:"date-label"},"date of completion:",-1))),E={key:0},A={class:"container d-flex justify-content-center"},j={class:"row"},x={class:"box"},S={class:"task"},O=["data-bs-target"],N=["id"],P={class:"modal-dialog"},F={class:"modal-content"},R=L((()=>(0,n.Lk)("div",{class:"modal-header"},[(0,n.Lk)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Edit"),(0,n.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),X={class:"modal-body"},U=L((()=>(0,n.Lk)("label",{for:"d_o_s",class:"date-label"},"dos:",-1))),I=L((()=>(0,n.Lk)("label",{for:"d_o_s",class:"date-label"},"doc:",-1))),q={class:"modal-footer"},M=L((()=>(0,n.Lk)("button",{type:"button",class:"btn btn-secondary btns","data-bs-dismiss":"modal"},"Close",-1))),J=["onClick"],V=["onClick"],W={key:1};function B(e,t,o,a,r,i){return(0,n.uX)(),(0,n.CE)(n.FK,null,[w,(0,n.Lk)("div",T,[(0,n.bo)((0,n.Lk)("input",{type:"text",name:"text",placeholder:"Enter your tasks",class:"input","onUpdate:modelValue":t[0]||(t[0]=e=>r.task_name=e)},null,512),[[s.Jo,r.task_name]]),C,(0,n.bo)((0,n.Lk)("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=e=>r.d_o_s=e)},null,512),[[s.Jo,r.d_o_s]]),$,(0,n.eW)(),(0,n.bo)((0,n.Lk)("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=e=>r.d_o_c=e)},null,512),[[s.Jo,r.d_o_c]]),(0,n.Lk)("input",{type:"submit",value:"add task",class:"btn",onClick:t[3]||(t[3]=e=>i.addTask())})]),i.isLoggedIn&&e.$store.state.Task.length>0?((0,n.uX)(),(0,n.CE)("div",E,[(0,n.Lk)("div",A,[(0,n.Lk)("div",j,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.$store.state.Task,(e=>((0,n.uX)(),(0,n.CE)("div",{class:"col-lg-3 m-5",key:e.user_id},[(0,n.Lk)("div",x,[(0,n.Lk)("div",S,[(0,n.Lk)("p",null,(0,y.v_)(e.task_name),1),(0,n.Lk)("p",null,(0,y.v_)(e.d_o_s),1),(0,n.Lk)("p",null,(0,y.v_)(e.d_o_c),1),(0,n.Lk)("button",{type:"button",class:"btns","data-bs-toggle":"modal","data-bs-target":"#exampleModal"+e.idtasks}," edit ",8,O),(0,n.Lk)("div",{class:"modal fade",id:"exampleModal"+e.idtasks,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[(0,n.Lk)("div",P,[(0,n.Lk)("div",F,[R,(0,n.Lk)("div",X,[(0,n.bo)((0,n.Lk)("input",{type:"text",name:"text",placeholder:"Enter your tasks",class:"input","onUpdate:modelValue":t[4]||(t[4]=e=>r.task_name=e)},null,512),[[s.Jo,r.task_name]]),U,(0,n.bo)((0,n.Lk)("input",{type:"date","onUpdate:modelValue":t[5]||(t[5]=e=>r.d_o_s=e)},null,512),[[s.Jo,r.d_o_s]]),I,(0,n.eW)(),(0,n.bo)((0,n.Lk)("input",{type:"date","onUpdate:modelValue":t[6]||(t[6]=e=>r.d_o_c=e)},null,512),[[s.Jo,r.d_o_c]])]),(0,n.Lk)("div",q,[M,(0,n.Lk)("button",{type:"button",class:"btn btn-primary btns",onClick:t=>i.updateTask(e.idtasks)},"Save changes",8,J)])])])],8,N),(0,n.Lk)("button",{class:"btns",onClick:t=>i.deleteTask(e.idtasks)},"delete",8,V)])])])))),128))])])])):((0,n.uX)(),(0,n.CE)("div",W))],64)}var Q={data(){return{d_o_s:"",d_o_c:"",task_name:""}},computed:{tasks(){this.$store.state.Task},isLoggedIn(){return!!this.$cookies.get("user_id")}},methods:{fetchTasks(){this.isLoggedIn&&this.$store.dispatch("getTask",this.$cookies.get("user_id"))},async addTask(){const e=this.$cookies.get("user_id"),t={task_name:this.task_name,d_o_s:this.d_o_s,d_o_c:this.d_o_c,user_id:e};await this.$store.dispatch("addTask",t),c.oR.success("Successfully added task",{theme:"dark",timeout:1e3}),await new Promise((e=>setTimeout(e,1e3))),location.reload()},async deleteTask(e){this.$store.dispatch("deleteTask",e),c.oR.success("Successfully deleted task",{theme:"dark",timeout:1e3}),await new Promise((e=>setTimeout(e,1e3))),location.reload()},async updateTask(e){let t={id:e,task_name:this.task_name,d_o_s:this.d_o_s,d_o_c:this.d_o_c};this.$store.dispatch("updateTask",t),c.oR.success("Successfully updated task",{theme:"dark",timeout:1e3}),await new Promise((e=>setTimeout(e,1e3))),location.reload()}},mounted(){this.fetchTasks()}};const K=(0,f.A)(Q,[["render",B],["__scopeId","data-v-23811f1a"]]);var D=K;const H=[{path:"/",name:"home",component:D},{path:"/login",name:"login",component:()=>o.e(594).then(o.bind(o,7338))},{path:"/user",name:"user",component:()=>o.e(594).then(o.bind(o,3089))}],z=(0,_.aE)({history:(0,_.LA)("/"),routes:H});var G=z,Y=o(782),Z=o(4373);const ee="https://to-do-list-5sqk.onrender.com/users",te="https://to-do-list-5sqk.onrender.com/login",oe="https://to-do-list-5sqk.onrender.com/tasks",se="https://to-do-list-5sqk.onrender.com/logout";Z.A.defaults.withCredentials=!0;var ne=(0,Y.y$)({state:{loginIn:!1,Task:[],singleuser:[]},getters:{},mutations:{setLogged(e,t){e.loginIn=t},setTask(e,t){e.Task=t},setuser(e,t){e.singleuser=t}},actions:{async log_in({commit:e},t){let{data:o}=await Z.A.post(te,t);if(console.log(o),void 0!==o.token){$cookies.set("jwt",o.token);let[{userRole:e}]=o.user;$cookies.set("userRole",e);let[t]=o.user;$cookies.set("user",t);let[{user_id:s}]=o.user;$cookies.set("user_id",s),console.log($cookies)}else $cookies.remove("jwt"),$cookies.remove("user"),$cookies.remove("userRole"),$cookies.remove("user_id");e("setLogged")},async logout(){let{data:e}=await Z.A.delete(se);console.log(e),$cookies.remove("jwt"),$cookies.remove("user"),$cookies.remove("userRole"),$cookies.remove("user_id")},async signup({commit:e},t){let{data:o}=await Z.A.post(ee,t);console.log(o)},async getTask({commit:e},t){let{data:o}=await Z.A.get(oe+"/"+t);console.log(o),e("setTask",o)},async addTask({commit:e},t){let{data:o}=await Z.A.post(`${oe}?user=${t.user_id}`,t);console.log(o)},async deleteTask({commit:e},t){let{data:o}=await Z.A.delete(oe+"/"+t);console.log(o)},async updateTask({commit:e},t){let{data:o}=await Z.A.patch(oe+"/"+t.id,t);console.log(o)},async getuser({commit:e},t){let{data:o}=await Z.A.get(ee+"/"+t);console.log(o),e("setuser",o)},async deleteuser({commit:e},t){let{data:o}=await Z.A.delete(ee+"/"+t);console.log(o)},async updateuser({commit:e},t){let{data:o}=await Z.A.patch(ee+"/"+t.id,t);console.log(o)}},modules:{}}),ae=o(4570),re=o.n(ae);o(5707),o(3855);(0,s.Ef)(b).use(ne).use(G).use(re()).mount("#app")}},t={};function o(s){var n=t[s];if(void 0!==n)return n.exports;var a=t[s]={exports:{}};return e[s].call(a.exports,a,a.exports,o),a.exports}o.m=e,function(){var e=[];o.O=function(t,s,n,a){if(!s){var r=1/0;for(d=0;d<e.length;d++){s=e[d][0],n=e[d][1],a=e[d][2];for(var i=!0,l=0;l<s.length;l++)(!1&a||r>=a)&&Object.keys(o.O).every((function(e){return o.O[e](s[l])}))?s.splice(l--,1):(i=!1,a<r&&(r=a));if(i){e.splice(d--,1);var u=n();void 0!==u&&(t=u)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[s,n,a]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,s){return o.f[s](e,t),t}),[]))}}(),function(){o.u=function(e){return"js/about.e8e40724.js"}}(),function(){o.miniCssF=function(e){return"css/about.9ab4ddff.css"}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="to-do-list:";o.l=function(s,n,a,r){if(e[s])e[s].push(n);else{var i,l;if(void 0!==a)for(var u=document.getElementsByTagName("script"),d=0;d<u.length;d++){var c=u[d];if(c.getAttribute("src")==s||c.getAttribute("data-webpack")==t+a){i=c;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.setAttribute("data-webpack",t+a),i.src=s),e[s]=[n];var k=function(t,o){i.onerror=i.onload=null,clearTimeout(f);var n=e[s];if(delete e[s],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((function(e){return e(o)})),t)return t(o)},f=setTimeout(k.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=k.bind(null,i.onerror),i.onload=k.bind(null,i.onload),l&&document.head.appendChild(i)}}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,s,n,a){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css",o.nc&&(r.nonce=o.nc);var i=function(o){if(r.onerror=r.onload=null,"load"===o.type)n();else{var s=o&&o.type,i=o&&o.target&&o.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+s+": "+i+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=s,l.request=i,r.parentNode&&r.parentNode.removeChild(r),a(l)}};return r.onerror=r.onload=i,r.href=t,s?s.parentNode.insertBefore(r,s.nextSibling):document.head.appendChild(r),r},t=function(e,t){for(var o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var n=o[s],a=n.getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(a===e||a===t))return n}var r=document.getElementsByTagName("style");for(s=0;s<r.length;s++){n=r[s],a=n.getAttribute("data-href");if(a===e||a===t)return n}},s=function(s){return new Promise((function(n,a){var r=o.miniCssF(s),i=o.p+r;if(t(r,i))return n();e(s,i,null,n,a)}))},n={524:0};o.f.miniCss=function(e,t){var o={594:1};n[e]?t.push(n[e]):0!==n[e]&&o[e]&&t.push(n[e]=s(e).then((function(){n[e]=0}),(function(t){throw delete n[e],t})))}}}(),function(){var e={524:0};o.f.j=function(t,s){var n=o.o(e,t)?e[t]:void 0;if(0!==n)if(n)s.push(n[2]);else{var a=new Promise((function(o,s){n=e[t]=[o,s]}));s.push(n[2]=a);var r=o.p+o.u(t),i=new Error,l=function(s){if(o.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var a=s&&("load"===s.type?"missing":s.type),r=s&&s.target&&s.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",i.name="ChunkLoadError",i.type=a,i.request=r,n[1](i)}};o.l(r,l,"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,s){var n,a,r=s[0],i=s[1],l=s[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(n in i)o.o(i,n)&&(o.m[n]=i[n]);if(l)var d=l(o)}for(t&&t(s);u<r.length;u++)a=r[u],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(d)},s=self["webpackChunkto_do_list"]=self["webpackChunkto_do_list"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=o.O(void 0,[504],(function(){return o(6361)}));s=o.O(s)})();
//# sourceMappingURL=app.6b7cba67.js.map